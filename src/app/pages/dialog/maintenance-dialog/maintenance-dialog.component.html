<div class="w-full max-w-3xl">
    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">{{ title() }}</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Schedule a service appointment</p>
    </div>

    <!-- Form Content -->
    <div class="p-6 max-h-[calc(100vh-300px)] overflow-y-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Service Center (Full Width) -->
            <div class="md:col-span-2">
                <app-label>
                    Service Center
                    <span class="text-red-500 ml-1">*</span>
                </app-label>
                <app-select
                        [options]="centers"
                        placeholder="Select service center"
                        [value]="selectedCenter"
                        (valueChange)="handleCenterChange($event)"
                        class="dark:bg-dark-900 w-full"
                ></app-select>
            </div>

            <!-- Date -->
            <div class="relative">
                <app-label>
                    Date
                    <span class="text-red-500 ml-1">*</span>
                </app-label>
                <input
                        #dateInput
                        id="dateInput"
                        placeholder="Select date"
                        class="h-11 w-full rounded-lg border appearance-none px-4 py-2.5 pl-4 pr-11 text-sm shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 bg-white text-gray-800 border-gray-300 focus:border-emerald-500 focus:ring-emerald-500/20 dark:border-gray-700 dark:focus:border-emerald-600"
                        autocomplete="off"
                />
                <span class="absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-[52%] dark:text-gray-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                </span>
            </div>

            <!-- Time -->
            <div class="relative">
                <app-label>
                    Time
                    <span class="text-red-500 ml-1">*</span>
                </app-label>
                <input
                        #timeInput
                        id="timeInput"
                        placeholder="Select time"
                        class="h-11 w-full rounded-lg border appearance-none px-4 py-2.5 pl-4 pr-11 text-sm shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 bg-white text-gray-800 border-gray-300 focus:border-emerald-500 focus:ring-emerald-500/20 dark:border-gray-700 dark:focus:border-emerald-600"
                        autocomplete="off"
                />
                <span class="absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-[52%] dark:text-gray-400">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                    </svg>
                </span>
            </div>

            <!-- Name -->
            <div>
                <app-label>Full Name</app-label>
                <app-input-field
                        id="fullName"
                        type="text"
                        [value]="fullName"
                        [error]="fullNameError"
                        (valueChange)="handleFullNameChange($event)"
                        [hint]="fullNameError ? 'Name cannot be empty' : ''"
                        [readonly]="true"
                ></app-input-field>
            </div>

            <!-- Phone -->
            <div>
                <app-label>Phone Number</app-label>
                <app-input-field
                        id="phoneNo"
                        type="tel"
                        [value]="phoneNo"
                        [error]="phoneNoError"
                        (valueChange)="handlePhoneNoChange($event)"
                        placeholder="Enter phone number"
                        [hint]="phoneNoError ? 'Invalid phone number' : ''"
                ></app-input-field>
            </div>

            <!-- Email -->
            <div>
                <app-label>Email</app-label>
                <app-input-field
                        id="email"
                        type="email"
                        [value]="email"
                        [error]="emailError"
                        (valueChange)="handleEmailChange($event)"
                        [readonly]="true"
                ></app-input-field>
            </div>

            <!-- Vehicle -->
            <div>
                <app-label>Vehicle</app-label>
                <app-input-field
                        id="vehicle"
                        type="text"
                        [value]="selectedVehicle"
                        (valueChange)="handleEmailChange($event)"
                        [readonly]="true"
                ></app-input-field>
            </div>

            <!-- License Plate -->
            <div>
                <app-label>License Plate</app-label>
                <app-input-field
                        id="licensePlate"
                        type="text"
                        [value]="licensePlate"
                        [error]="licensePlateError"
                        (valueChange)="handleEmailChange($event)"
                        placeholder="Enter license plate"
                        [hint]="licensePlateError ? 'Invalid license plate' : ''"
                        [readonly]="true"
                ></app-input-field>
            </div>

            <!-- Kilometers -->
            <div>
                <app-label>Kilometers</app-label>
                <app-input-field
                        id="inputKm"
                        type="number"
                        [value]="inputKm"
                        (input)="inputKm = $any($event.target).value"
                        [error]="kmError"
                        placeholder="Enter kilometers"
                        [hint]="kmError ? 'Invalid kilometer value' : ''"
                ></app-input-field>
            </div>

            <!-- Service Type (Full Width) -->
            <div class="md:col-span-2">
                <app-label>Service Type</app-label>
                <div class="flex items-center gap-6 mt-2">
                    <label class="flex items-center gap-2.5 cursor-pointer group">
                        <app-checkbox
                                [checked]="isMaintenance"
                                (checkedChange)="isMaintenance = $event"
                        ></app-checkbox>
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-white transition">
                            Maintenance
                        </span>
                    </label>

                    <label class="flex items-center gap-2.5 cursor-pointer group">
                        <app-checkbox
                                [checked]="isRepair"
                                (checkedChange)="isRepair = $event"
                        ></app-checkbox>
                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-white transition">
                            Repair
                        </span>
                    </label>
                </div>
            </div>

            <!-- Notes (Full Width) -->
            <div class="md:col-span-2">
                <app-label>Additional Notes</app-label>
                <app-text-area
                        [value]="remark"
                        (valueChange)="remark = $event"
                        placeholder="Enter any specific requirements or concerns..."
                        [rows]="4"
                ></app-text-area>
            </div>
        </div>
    </div>

    <!-- Footer Actions -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between">
        <div class="text-xs text-gray-500 dark:text-gray-400">
            <span class="text-red-500">*</span> Required fields
        </div>
        <div class="flex gap-2">
            <app-button size="sm" variant="outline" (btnClick)="cancel()">
                Cancel
            </app-button>
            <app-button
                    size="sm"
                    (btnClick)="ok()"
                    class="bg-emerald-600 hover:bg-emerald-700"
            >
                <span class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    Book Appointment
                </span>
            </app-button>
        </div>
    </div>
</div>